---
title: Hello World
---

import { Link } from 'gatsby';
import Box from '../components/box';

# Guide

This page will guide you through the basic concepts of _Simple Translator_, what it's for, how to install and use it in your application, some common techniques, and more.

If you prefer, head over to some <Link to="/examples/">real-world examples</Link> or the <Link to="/api/">API reference</Link>.

## The problem

You want to make your website available in multiple languages. You perhaps already looked for solutions out there and discovered various [services](https://www.i18next.com/) and [libraries](https://github.com/wikimedia/jquery.i18n), and dozens of other smaller packages that offer more or less what you are looking for.

Some of them might be too grand for your purpose. You don't want to install a 100 KB dependency just for a simple translation. Or, perhaps you've found smaller libraries but are missing essential features.

## The solution

_Simple Translator_ is a very lightweight (~9 KB minified) solution for translating content with pure JavaScript. It works natively in the browser and Node.js.

- Translate single strings
- Translate entire HTML pages
- Easily fetch JSON resource files (containing your translations)
- Make use of global helper functions
- Detect the user's preferred language automatically

## Installation

### In the browser

A UMD build is available via [unpkg](https://unpkg.com). Just paste the following link into your HTML, and you're good to go:

```html
<script
  src="https://unpkg.com/@andreasremdt/simple-translator@latest/dist/umd/translator.min.js"
  defer
></script>
```

### Using Node.js or bundlers

This package is distributed via [npm](https://npmjs.com). It's best to install it as one of your project's dependencies:

```
npm i @andreasremdt/simple-translator
```

Or using [yarn](https://yarnpkg.com/):

```
yarn add @andreasremdt/simple-translator
```

## Translating HTML pages

### Preparing the HTML

_Simple Translator_ can either translate single strings or entire HTML pages on the fly. A first good step would be to prepare your HTML.

For each HTML element that you want to translate, add the attribute `data-i18n`, which contains a key to your translation:

```html
<h1 data-i18n="title">Translated title</h1>
```

By default, the `textContent` of the element gets replaced with the translated text. You might, however, want to translate other attributes instead, like `placeholder` or `alt`. You can provide a second, optional attribute called `data-i18n-attr` and pass it a _space-separated_ list of attributes:

```html
<!-- translates only the placeholder attribute -->
<input data-i18n="input.placeholder" data-i18n-attr="placeholder" />

<!-- translates both the placeholder and title attribute -->
<input
  data-i18n="input.placeholder input.title"
  data-i18n-attr="placeholder title"
/>
```

<Box>
  Note that you don't need to pass the attributes to the element initially.
  <i>Simple Translator</i> will add them automatically.
</Box>

<Box variant="warning">
  Always make sure to have the same amount of values when translating multiple
  attributes. If you provide just one translation key to `data-i18n` but two
  attributes to `data-i18n-attr`, the script won't work.
</Box>

### Preparing the translations

Now is a good time to prepare your translations (or at least getting started). You have two choices here: either put the translations into a JSON file and fetch it from the server or create a JavaScript object and add them to the translator directly.

<Box>
  What you choose depends entirely on your personal preference, but if you want
  a rule of thumb: if translations are getting bigger than 100 lines of code or
  if you have more than 2 languages, consider putting them into a JSON file. If
  you only have few translations, register them directly to the translator as a
  JavaScript object (thanks to bundlers like Webpack or Rollup you can import
  them).
</Box>

#### Using JSON

If you decide to go with external JSON files, put them into a folder called `1i8n` under the root of your public assets (you can change the folder name in the <Link to="/">configuration</Link>). Then, create a JSON file for each language that you want to support. The filename should be the short code of the associated language, like `en.json` or `es.json`.

```json
{
  "title": "Some English Title",
  "input": {
    "placeholder": "Please enter your username",
    "title": "Username"
  }
}
```

The JSON data structure can be deeply nested to as many levels as you see fit. In the HTML, you access these values by using the dotted sytnax: `data-i18n="input.placeholder"`.

<Box variant="warning">
  Make sure that the JSON structure is **identical** for each translation file.
  If not, the translation will fail.
</Box>

### Initializing the translator

The last piece of the puzzle is the translator itself. To use it, you need to import it first:

```js
import Translator from '@andreasremdt/simple-translator';
```

<Box>
  If you are not using a package manager but instead used the unpkg link, you
  don't need to import anything. The `Translator` class is available in the
  global namespace.
</Box>

Next, instantiate the class:

```js
var translator = new Translator(options);
```

Although not required, you could pass an <Link to="/api/">object for further customization</Link> (like the JSON file paths, global helpers, etc.). If you don't provide anything, it will take some sensible defaults.

## Translating HTML attributes

You can translate the text content of a DOM element (it's `innerHTML`) or any other attribute, such as `title` or `placeholder`. For that, pass `data-i18n-attr` and a space-separated list of attributes to the target DOM node:

```html
<input
  data-i18n="input.title_label input.placeholder_label"
  data-i18n-attr="title placeholder"
  title="..."
  placeholder="..."
/>
```

> Be careful to have the same amount of keys and attributes in `data-i18n` and `data-i18n-attr`. If you want to translate both `placeholder` and `title`, you need to pass two translation keys for it to work.

By default, if `data-i18n-attr` is not defined, the innerHTML will be translated.

## Translating programmatically

Instead of translating the entire page or some DOM nodes, you can translate a single, given key via `translateForKey()`. The first argument should be a key from your translation sources, such as "header.title", and the second argument should be the target language like "en" or "de". Note that the language must have been registered before calling this method.

```js
translator.add('de', jsonObject);

console.log(translator.translateForKey('header.title', 'de'));
// -> prints the translation
```

By default, `Simple Translator` registers a global helper on the `window` object to help you achieve the same without having to write the method name.

```js
__('header.title', 'de');
```
